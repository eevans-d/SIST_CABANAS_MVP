# Entorno de ejecución
ENVIRONMENT=development  # development|staging|production
ALLOWED_ORIGINS=http://localhost:3000

# Dominio (para nginx y URLs públicas)
DOMAIN=alojamientos.example.com

# Base de datos
DATABASE_URL=postgresql+asyncpg://alojamientos:password@localhost:5432/alojamientos_db
TEST_DATABASE_URL=postgresql+asyncpg://alojamientos:password@localhost:5432/alojamientos_test_db
POSTGRES_USER=alojamientos
POSTGRES_PASSWORD=change_me_postgres_password
POSTGRES_DB=alojamientos_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_SSL=false  # true si el proveedor requiere SSL (p.ej., Supabase)

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=change_me_redis_password
TEST_REDIS_URL=redis://localhost:6379/0

# Seguridad / JWT / iCal
JWT_SECRET=change_me_jwt_secret_min_32_chars  # Secret para firmar tokens JWT (admin auth)
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=12
ICS_SALT=change_me_ics_salt_min_16_chars

# WhatsApp Business Cloud API
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_ID=
WHATSAPP_APP_SECRET=
WHATSAPP_VERIFY_TOKEN=

# Mercado Pago
MERCADOPAGO_ACCESS_TOKEN=
MERCADOPAGO_WEBHOOK_SECRET=

# Email SMTP (para notificaciones: confirmación, expiración, recordatorios)
SMTP_HOST=localhost  # SMTP server hostname (ej: smtp.gmail.com, smtp.sendgrid.net)
SMTP_PORT=1025  # Puerto SMTP (587 para TLS, 465 para SSL, 1025 para dev/MailHog)
SMTP_USER=  # Usuario SMTP (opcional, dejar vacío si no requiere auth)
SMTP_PASS=  # Password SMTP (opcional)
SMTP_FROM=no-reply@example.com  # Email remitente
SMTP_USE_TLS=true  # Usar STARTTLS (true para puerto 587, false para 1025/dev)

# Audio / Whisper
WHISPER_MODEL=base
AUDIO_TEMP_DIR=/app/temp

# Gunicorn / Runtime
GUNICORN_WORKERS=2
GUNICORN_TIMEOUT=60
GUNICORN_GRACEFUL_TIMEOUT=30
GUNICORN_KEEP_ALIVE=75

# Admin
ADMIN_ALLOWED_EMAILS=admin@example.com  # Lista separada por comas de emails con acceso admin (ej: admin@example.com,ops@example.com)

# Jobs
JOB_EXPIRATION_INTERVAL_SECONDS=30
JOB_ICAL_INTERVAL_SECONDS=300

# Rate limit (simple)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60
ICAL_SYNC_MAX_AGE_MINUTES=20
